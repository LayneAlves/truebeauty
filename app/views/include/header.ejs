<header class="header">
  <nav>
    <input type="checkbox" name="" id="menu-hamburguer" hidden>
    <label for="menu-hamburguer">
      <span></span>
      <span></span>
      <span></span>
    </label>

    <ul class="menu-list">
      <!-- Ver Tudo -->
      <li>
        <div class="menu-item">
          <a href="vertudo"><span>Ver Tudo</span></a>
          <button class="submenu-toggle" data-target="#submenu-vertudo" aria-expanded="false">
            <span class="arrow"></span>
          </button>
        </div>
        <ul id="submenu-vertudo" class="submenu">
          <li><a href="perfumes">Perfumes</a></li>
          <li><a href="cabelos">Cabelo</a></li>
          <li><a href="maquiagem">Maquiagem</a></li>
          <li><a href="cuidados_pessoais">Cuidados Pessoais</a></li>
        </ul>
      </li>
    
      <!-- Perfumes -->
      <li>
        <div class="menu-item">
          <a href="perfumes"><span>Perfumes</span></a>
          <button class="submenu-toggle" data-target="#submenu-perfumes" aria-expanded="false">
            <span class="arrow"></span>
          </button>
        </div>
        <ul id="submenu-perfumes" class="submenu">
          <li><a href="perfumes_feminino">Perfumes Feminino</a></li>
          <li><a href="perfumes_masculino">Perfume Masculino</a></li>
          <li><a href="perfumes_infantil">Perfume Infantil</a></li>
          <li><a href="body_splash">Body Splash</a></li>
        </ul>
      </li>
    
      <!-- Cabelos -->
      <li>
        <div class="menu-item">
          <a href="cabelos"><span>Cabelo</span></a>
          <button class="submenu-toggle" data-target="#submenu-cabelos" aria-expanded="false">
            <span class="arrow"></span>
          </button>
        </div>
        <ul id="submenu-cabelos" class="submenu">
          <li><a href="hidratacao">Hidratação</a></li>
          <li><a href="nutricao">Nutrição</a></li>
          <li><a href="reconstrucao">Reconstrução</a></li>
        </ul>
      </li>
    
      <!-- Cuidados Pessoais -->
      <li>
        <div class="menu-item">
          <a href="cuidados_pessoais"><span>Cuidados Pessoais</span></a>
          <button class="submenu-toggle" data-target="#submenu-cuidados" aria-expanded="false">
            <span class="arrow"></span>
          </button>
        </div>
        <ul id="submenu-cuidados" class="submenu">
          <li><a href="depilacao">Depilação</a></li>
          <li><a href="higieneIntima">Higiene Íntima</a></li>
          <li><a href="protetorSolar">Protetor Solar</a></li>
          <li><a href="kitBarba">Kit de Barbear</a></li>
        </ul>
      </li>
    
      <!-- Maquiagem -->
      <li>
        <div class="menu-item">
          <a href="maquiagem"><span>Maquiagem</span></a>
          <button class="submenu-toggle" data-target="#submenu-maquiagem" aria-expanded="false">
            <span class="arrow"></span>
          </button>
        </div>
        <ul id="submenu-maquiagem" class="submenu">
          <li><a href="primer">Primer</a></li>
          <li><a href="bruma">Bruma</a></li>
          <li><a href="base">Base</a></li>
          <li><a href="corretivo">Corretivo</a></li>
          <li><a href="po">Pó</a></li>
          <li><a href="batom">Batom</a></li>
          <li><a href="olho">Olho</a></li>
        </ul>
      </li>
    
      <!-- Skin Care -->
      <li>
        <div class="menu-item">
          <a href="skin_care"><span>Skin Care</span></a>
          <button class="submenu-toggle" data-target="#submenu-skin" aria-expanded="false">
            <span class="arrow"></span>
          </button>
        </div>
        <ul id="submenu-skin" class="submenu">
          <li><a href="rosto">Rosto</a></li>
          <li><a href="olhos">Olhos</a></li>
          <li><a href="labios">Lábios</a></li>
        </ul>
      </li>
    </ul>

    <div class="icon-btn search-icon">
      <img src="assets/imagem/icons/lupa.png" alt="lupa">
      <input type="text" placeholder="Pesquisar..." class="search-input">
    </div>

    <!-- Overlay para a pesquisa -->
    <div id="overlay-pesquisa" class="overlay-pesquisa"></div>


    

    <a href="/" class="logo">
      <img src="assets/imagem/imagem_Logo/logo1000x500.jpg" alt="True Beauty">
    </a> 
  
    <button class="icon-btn user-icon">
      <img src="assets/imagem/icons/perfil.png" alt="perfil">
    </button>

    <button class="icon-btn cart-icon">
      <img src="assets/imagem/icons/sacola.png" alt="carrinho-de-compras">
     
  
    </button>
  </nav>
</header>

<!-- Sacola -->
<div id="overlay-sacola" class="overlay-sacola"></div>

<aside id="sacola-lateral" class="sacola-lateral">
  <header class="sacola-header">
    <h2>Minha sacola</h2>
    <button id="fechar-sacola" class="fechar-btn">&times;</button>
  </header>
  <button class="btn-finalizar">Finalizar compra</button>
</aside>

<!-- Fim sacola -->



<!--Perfil -->

<!-- Overlay (fundo escuro) -->
<section id="overlay-perfil" class="overlay-perfil"></section>

<!-- Container principal do login -->
<section id="modal-perfil" class="modal-perfil">
  <button id="fechar-perfil" class="fechar-btn">&times;</button>

  <main class="login-container">
    <h2>Bem-vinda ao TrueBeauty</h2>
    <p>
      Aqui você pode acompanhar todos os detalhes dos seus pedidos e ficar ainda mais conectada com a gente. É super simples:
    </p>
    <p class="info">
      - É o seu primeiro acesso? <a href="#">Crie sua conta</a> <br>
    </p>

    <h3 id="login-title">Fazer login</h3>

    <section class="social-login">
   
      <button class="google">
        <img src="assets/imagem/imagem_Logo/google.png" alt="Google">
        Continuar com o Google
      </button>

    </section>

    <p class="divider">OU</p>

    <form id="form-perfil" class="form-login">
      <input type="email" id="email" name="email" placeholder="E-mail" required>
      <input type="password" id="senha" name="senha" placeholder="Senha" required>
      <a href="#" class="forgot">Esqueceu a senha?</a>
      <button type="submit" class="btn-login">FAZER LOGIN</button>
    </form>

  </main>
</section>


<!-- Js Perfil -->
<script>
  const btnAbrirPerfil = document.querySelector('.user-icon');
const modalPerfil = document.getElementById('modal-perfil');
const overlayPerfil = document.getElementById('overlay-perfil');
const btnFecharPerfil = document.getElementById('fechar-perfil');

function abrirPerfil() {
  modalPerfil.classList.add('ativo');
  overlayPerfil.classList.add('ativo');
}

function fecharPerfil() {
  modalPerfil.classList.remove('ativo');
  overlayPerfil.classList.remove('ativo');
}

btnAbrirPerfil.addEventListener('click', abrirPerfil);
btnFecharPerfil.addEventListener('click', fecharPerfil);
overlayPerfil.addEventListener('click', fecharPerfil);

// Opcional: prevenir submit do formulário para teste
document.getElementById('form-perfil').addEventListener('submit', e => {
  e.preventDefault();
  alert('Formulário enviado! Email: ' + e.target.email.value);
  fecharPerfil();
});

</script>
<!-- Fim perfil -->



<!-- menu hamburguer -->
<div id="overlay" class="overlay"></div>

<script>
  const menuToggle = document.getElementById('menu-toggle');
  const sideMenu = document.getElementById('side-menu');
  const overlay = document.getElementById('overlay');

  menuToggle.addEventListener('click', () => {
    sideMenu.classList.toggle('open');
    overlay.classList.toggle('active');
  });

  overlay.addEventListener('click', () => {
    sideMenu.classList.remove('open');
    overlay.classList.remove('active');
  });
// Fim do menu hamb
</script>

<!-- JS DO MENU HAMBURGUER-->
<script>
  document.querySelectorAll('.submenu-toggle').forEach(button => {
    button.addEventListener('click', () => {
      const target = document.querySelector(button.dataset.target);
      const expanded = button.getAttribute('aria-expanded') === 'true';

      // fecha todos os outros submenus primeiro
      document.querySelectorAll('.submenu').forEach(sub => {
        if (sub !== target) sub.classList.remove('show');
      });
      document.querySelectorAll('.submenu-toggle').forEach(btn => {
        if (btn !== button) btn.setAttribute('aria-expanded', 'false');
      });

      // alterna o submenu clicado
      button.setAttribute('aria-expanded', !expanded);
      target.classList.toggle('show', !expanded);
    });
  });
</script>





<!--Pesquisa overlay-->
<script>
  const searchContainer = document.querySelector('.search-icon');
  const lupaBtnImg = searchContainer.querySelector('img');
  const searchInput = searchContainer.querySelector('.search-input');
  const overlayPesquisa = document.getElementById('overlay-pesquisa');

  let pesquisaAtiva = false;

  function setPesquisaAtiva(ativo) {
    pesquisaAtiva = ativo;

    searchContainer.classList.toggle('active', ativo);
    searchInput.classList.toggle('active', ativo);
    overlayPesquisa.classList.toggle('ativo', ativo);

    // Blur apenas no mobile/tablet
    if (window.matchMedia('(max-width: 991px)').matches) {
      document.body.classList.toggle('blurred', ativo);
    } else {
      document.body.classList.remove('blurred');
    }

    if (ativo) {
      searchInput.focus();
    } else {
      searchInput.blur();
    }
  }

  // Clique na lupa: alterna abrir/fechar
  lupaBtnImg.addEventListener('click', (e) => {
    e.stopPropagation(); // impede que o clique vá pro document
    if (pesquisaAtiva) {
      // Se já estiver ativa, fecha
      setPesquisaAtiva(false);
    } else {
      // Se estiver fechada, abre
      setPesquisaAtiva(true);
    }
  });

  // Impede que cliques dentro da área da busca fechem o campo
  searchContainer.addEventListener('click', (e) => {
    e.stopPropagation();
  });

  // Clique fora: fecha
  document.addEventListener('click', () => {
    if (pesquisaAtiva) {
      setPesquisaAtiva(false);
    }
  });


  // Redimensionamento: garante que feche em telas grandes
  window.addEventListener('resize', () => {
    if (!window.matchMedia('(max-width: 991px)').matches) {
      setPesquisaAtiva(false);
    }
  });
</script>






